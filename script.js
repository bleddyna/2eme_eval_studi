// Règles :
// Le jeu comprend 2 joueurs sur un seul et même écran.
// Chaque joueur possède un score temporaire (ROUND) et un score global (GLOBAL).
// À chaque tour, le joueur a son ROUND initialisé à 0 et peut lancer un dé autant de fois qu'il le souhaite. Le résultat d’un lancer est ajouté au ROUND.
// Lors de son tour, le joueur peut décider à tout moment de:
// - Cliquer sur l’option “Hold”, qui permet d’envoyer les points du ROUND vers le GLOBAL. Ce sera alors le tour de l’autre joueur.
// - Lancer le dé. S’il obtient un 1, son score ROUND est perdu et c’est la fin de son tour.
// Le premier joueur qui atteint les 100 points sur global gagne le jeu.
//new game
const nGame = document.querySelector('#new-game');
//Actual score
const aScoreP1 = document.querySelector('#actualScorePlayer1');
const aScoreP2 = document.querySelector('#actualScorePlayer2');
//Current Score
const cScoreP1 = document.querySelector('#currentScorePlayer1');
const cScoreP2 = document.querySelector('#currentScorePlayer2');
//Roll dice
const rollDice = document.querySelector('#rollDice');
//Hold dice
const holdDice = document.querySelector('#holdDice');


//------------------------------
//nouvelle partie
const init = () => {
    if (confirm("Nouvelle partie?")) {
        cScoreP1.textContent = 0;
        cScoreP2.textContent = 0;
        aScoreP1.textContent = 0;
        aScoreP2.textContent = 0;
      }      
};
// Ajouter un écouteur d'évènements à la table
nGame.addEventListener("click", init);


//------------------------------
//lancé du dés
const rDice = document.querySelector('#rollDice');
function getRandomImage() {  
//declare an array to store the images  
var randomImage = [
    "img/face1.png",
    "img/face2.png",
    "img/face3.png",
    "img/face4.png",
    "img/face5.png",
    "img/face6.png"
];  

//generate a number and provide to the image to generate randomly  
var number = Math.floor(Math.random()*randomImage.length);  
//return the images generated by a random number
var pointsDice = randomImage.indexOf(randomImage[number])+1;

//Player1 play
var curScoreP1 = cScoreP1.textContent;
cScoreP1.textContent = pointsDice;
var actuScoreP1 = aScoreP1.textContent;
aScoreP1.textContent = parseFloat(actuScoreP1)+pointsDice;

// //player2 play
// var curScoreP2 = cScoreP2.textContent;
// cScoreP2.textContent = pointsDice;
// var actuScoreP2 = aScoreP2.textContent;
// aScoreP2.textContent = parseFloat(actuScoreP2)+pointsDice;

//dice is rolling
document.getElementById("result").innerHTML = '<img src="'+randomImage[number]+'" />';  


//     if(this.randomImage.indexOf(randomImage[number]) === 0){
//    cScoreP1.textContent  = "0";
//    aScoreP1.textContent = parseFloat(actuScoreP1)
//     }
}
rollDice.addEventListener('click',getRandomImage);
//------------------------------
//Hold dice
const hDice = ()=>{
    //action
};
holdDice.addEventListener("click",hDice);


//------------------------------
